home_mode:
  alias: Home Mode
  sequence:
  - service: ecobee.resume_program
    data:
      entity_id: climate.ecobee
      resume_all: true
  mode: single
  icon: mdi:home
leaving_home:
  alias: Leaving Home
  sequence:
  - device_id: 23c51aef4f600bf8b5c2be5d65ccd258
    domain: climate
    entity_id: climate.ecobee
    type: set_preset_mode
    preset_mode: Away
  mode: single
  icon: mdi:car
sleep_mode:
  alias: Sleep Mode
  sequence:
  - entity_id: lock.front_door
    service: lock.lock
  - service: switch.turn_on
    data: {}
    target:
      entity_id:
      - switch.fountain
      - switch.air_purifier
  mode: single
  icon: mdi:sleep
unlock_house:
  alias: Unlock House
  icon: mdi:lock-open
  mode: single
  sequence:
  - device_id: 5cb0bbaab2a94d110940d1795257f2c1
    domain: lock
    entity_id: lock.front_door
    type: unlock
  - choose:
    - conditions:
      - condition: sun
        before: sunset
        after: sunrise
      sequence:
      - brightness_pct: 100
        device_id: f27e62be9d8d4f97b8cda056b0be5211
        domain: light
        entity_id: light.streetlight
        type: turn_on
      - timeout: 00:10:00
        wait_template: '{{ is_state("binary_sensor.front_door_contact", "on")}}'
      - before: sunset
        condition: sun
      - device_id: f27e62be9d8d4f97b8cda056b0be5211
        domain: light
        entity_id: light.streetlight
        type: turn_off
    - conditions:
      - condition: sun
        after: sunset
        before: sunrise
      sequence:
      - type: turn_on
        device_id: 785b4e6d7e274837903def7378d1aacd
        entity_id: light.entrance_lights
        domain: light
        brightness_pct: 100
    default: []
wake_up:
  alias: Wake Up
  sequence:
  - service: light.turn_on
    data:
      brightness: 1
    entity_id:
    - light.bedroom_1
    - light.bedroom_2
  - service: light.turn_on
    data:
      brightness: 255
      transition: 600
    entity_id:
    - light.bedroom_1
    - light.bedroom_2
  - service: script.home_mode
    data: {}
  mode: single
  icon: mdi:alarm
turn_on_apple_tv:
  sequence:
  - service: remote.send_command
    target:
      device_id: f101f71aa591824df3115185b3c7392f
    data:
      command: wakeup
  mode: single
  alias: Turn On Apple TV
  icon: mdi:apple
turn_off_apple_tv:
  alias: Turn Off Apple TV
  sequence:
  - service: remote.send_command
    target:
      device_id: f101f71aa591824df3115185b3c7392f
    data:
      command:
      - home_hold
      - select
  mode: single
  icon: mdi:apple
